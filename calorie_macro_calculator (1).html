<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calorie & Macro Calculator</title>
    <style>
      /* Basic reset and fonts */
      body {
        margin: 0;
        font-family: Arial, Helvetica, sans-serif;
        background: #f7f9fb;
        color: #333;
      }

      /* Hero section with background image and overlay */
      header {
        position: relative;
        height: 300px;
        /* Use a new hero image depicting a martial artist training in a dimly lit gym.
           This evocative scene with blue tones and a silhouetted fighter aligns
           with the Nero Fitness aesthetic while reinforcing the calculator’s
           focus on combat athletes. */
        background-image: url('hero-bg-martial.png');
        background-size: cover;
        background-position: center;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        color: #fff;
      }
      header::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.4);
      }
      header h1 {
        z-index: 1;
        margin: 0;
        font-size: 3rem;
      }
      header p {
        z-index: 1;
        margin-top: 10px;
        font-size: 1.1rem;
      }

      /* Main container styling */
      .container {
        max-width: 700px;
        /* Pull the calculator card upward so it overlaps with the hero image.
           A modest negative top margin makes sure the first input isn't hidden
           behind the header. */
        /* Place the calculator below the hero image. Negative margins can hide
           the first input behind the header on some devices, so use a positive
           margin instead. */
        margin: 20px auto 40px;
        background: #fff;
        padding: 30px 40px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .input-group {
        display: flex;
        flex-direction: column;
        margin-bottom: 20px;
      }
      .input-group label {
        margin-bottom: 5px;
        font-weight: bold;
      }
      .input-group input,
      .input-group select {
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 1rem;
      }

      .button {
        background: #007aff;
        color: #fff;
        padding: 12px 20px;
        border: none;
        border-radius: 5px;
        font-size: 1rem;
        cursor: pointer;
        transition: background 0.2s ease-in-out;
      }
      .button:hover {
        background: #005fcc;
      }

      .result {
        margin-top: 30px;
        padding: 20px;
        background: #f0f8ff;
        border-left: 5px solid #007aff;
        border-radius: 5px;
      }
      .result h3 {
        margin-top: 0;
      }

      footer {
        text-align: center;
        padding: 20px;
        font-size: 0.85rem;
        color: #666;
      }
    </style>
  </head>
  <body>
    <header>
      <div>
        <h1>Calorie &amp; Macro Calculator</h1>
        <p>Estimate your daily calories and macronutrient needs</p>
      </div>
    </header>
    <div class="container">
      <form id="calc-form">
        <div class="input-group">
          <label for="weight">Weight (kg)</label>
          <input type="number" id="weight" min="1" step="0.1" required />
        </div>
        <div class="input-group">
          <label for="height">Height (cm)</label>
          <input type="number" id="height" min="1" step="0.1" required />
        </div>
        <div class="input-group">
          <label for="age">Age (years)</label>
          <input type="number" id="age" min="1" step="1" required />
        </div>
        <div class="input-group">
          <label for="gender">Gender</label>
          <select id="gender" required>
            <option value="male">Male</option>
            <option value="female">Female</option>
          </select>
        </div>
        <div class="input-group">
          <label for="activity">Activity Level</label>
          <select id="activity" required>
            <option value="1.2">Sedentary (little or no exercise)</option>
            <option value="1.375">Lightly active (light exercise 1–3 days/week)</option>
            <option value="1.55">Moderately active (moderate exercise 3–5 days/week)</option>
            <option value="1.725">Very active (hard exercise 6–7 days/week)</option>
            <option value="1.9">Super active (very hard exercise or physical job)</option>
          </select>
        </div>
        <div class="input-group">
          <label for="goal">Goal</label>
          <select id="goal" required>
            <option value="maintain">Maintain weight</option>
            <option value="lose">Lose weight</option>
            <option value="gain">Gain weight</option>
          </select>
        </div>
        <button type="submit" class="button">Calculate</button>
      </form>
      <div id="result" class="result" style="display: none"></div>
    </div>
    <footer>
      <p>
        &copy; 2025 Calorie &amp; Macro Calculator. This tool uses the
        Mifflin‑St&nbsp;Jeor equation for BMR estimation
        <a
          href="https://www.nasm.org/resource-center/blog/resting-metabolic-rate-how-to-calculate-and-improve-yours"
          target="_blank"
          rel="noopener"
        >
          (NASM)
        </a>
        and typical macro ratios for different goals
        <a
          href="https://www.muscleandstrength.com/articles/determine-daily-calorie-macronutrient-intake"
          target="_blank"
          rel="noopener"
        >
          (Muscle&nbsp;&amp;&nbsp;Strength)
        </a>
        . Activity multipliers are based on guidelines from Healthline
        <a
          href="https://www.healthline.com/health/how-to-calculate-your-basal-metabolic-rate"
          target="_blank"
          rel="noopener"
        >
          (Healthline)
        </a>
        .
      </p>
    </footer>
    <script>
      // Handle form submission and calculate BMR, TDEE and macro split
      document.getElementById('calc-form').addEventListener('submit', function (e) {
        e.preventDefault();
        const weight = parseFloat(document.getElementById('weight').value);
        const height = parseFloat(document.getElementById('height').value);
        const age = parseInt(document.getElementById('age').value);
        const gender = document.getElementById('gender').value;
        const activity = parseFloat(document.getElementById('activity').value);
        const goal = document.getElementById('goal').value;
        // Calculate BMR using Mifflin‑St Jeor equation【274897868494631†L205-L214】
        let bmr;
        if (gender === 'male') {
          bmr = 10 * weight + 6.25 * height - 5 * age + 5;
        } else {
          bmr = 10 * weight + 6.25 * height - 5 * age - 161;
        }
        // Total Daily Energy Expenditure (TDEE) = BMR × activity factor【450786798178159†L356-L367】
        let tdee = bmr * activity;
        // Adjust calories based on goal (500 kcal deficit or surplus)
        let calories;
        if (goal === 'maintain') {
          calories = tdee;
        } else if (goal === 'lose') {
          calories = tdee - 500;
        } else {
          calories = tdee + 500;
        }
        // Determine macro ratio for martial artists. Combat sports athletes
        // rely heavily on carbohydrate fuel for high‑intensity training and
        // recovery, but still require ample protein to support muscle repair.
        // Based on guidelines for fighters that suggest a balanced intake of
        // around 40–50% carbohydrates, 25–35% protein and 20–30% fats【74523535623931†L88-L90】,
        // we use a fixed split of 30% protein, 50% carbohydrates and 20% fat
        // for all goals. This ratio reflects the energy and recovery needs of
        // martial artists while keeping fats moderate to maintain leanness.
        let proteinPercent = 0.30;
        let carbPercent    = 0.50;
        let fatPercent    = 0.20;
        // Convert macro calories to grams (4 cals/g for protein & carbs, 9 cals/g for fat)
        const proteinGrams = (calories * proteinPercent) / 4;
        const fatGrams = (calories * fatPercent) / 9;
        const carbGrams = (calories * carbPercent) / 4;
        // Build results markup
        const resultDiv = document.getElementById('result');
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = `
          <h3>Your Results</h3>
          <p><strong>Basal Metabolic Rate (BMR):</strong> ${bmr.toFixed(0)} calories/day</p>
          <p><strong>Total Daily Energy Expenditure (TDEE):</strong> ${tdee.toFixed(0)} calories/day</p>
          <p><strong>Daily Calorie Goal:</strong> ${calories.toFixed(0)} calories/day</p>
          <p><strong>Macronutrient Targets:</strong></p>
          <ul>
            <li>Protein: ${proteinGrams.toFixed(0)} g/day (${(proteinPercent * 100).toFixed(0)}% of calories)</li>
            <li>Fat: ${fatGrams.toFixed(0)} g/day (${(fatPercent * 100).toFixed(0)}% of calories)</li>
            <li>Carbohydrates: ${carbGrams.toFixed(0)} g/day (${(carbPercent * 100).toFixed(0)}% of calories)</li>
          </ul>
        `;
      });
    </script>
  </body>
</html>